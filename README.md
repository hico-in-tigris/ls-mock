# LocalSuccess - 地域の力を可視化するSaaS

![LocalSuccess Logo](https://placehold.co/400x200/2563eb/ffffff?text=LocalSuccess)

## 概要

LocalSuccessは、地域おこし協力隊など地方で起業を志す若者向けに「ネットワークを財産化→リーンサイクルで回す→小さな行動が続く」を体験できるSaaSの静的モックです。

### 主な目標
- 地域の人的ネットワークの可視化と活用
- プロジェクト管理とアクション実行の最適化
- 継続的な改善サイクルの実現

## 技術構成

- **HTML** - セマンティックな構造とアクセシビリティ対応
- **Tailwind CSS CDN** - shadcn/ui風のデザインシステム
- **Vanilla JavaScript** - SPA風ルーティングとデータ管理
- **localStorage** - データ永続化

## 機能概要

### 📊 Dashboard
- 今日やることの表示
- 今日の完了タスク
- 進行中タスクの管理
- アクション追加とリフレクション機能

### 📋 Projects
- **5段階プロジェクトウィザード** (想いの整理→企画構成→目標設定→関係者分析→提案作成)
- **企画室（Plan Editor）** - AI支援による事業計画作成システム
  - **ライトモード** - 簡単な質問に答えるだけでAIが下書きを自動生成
  - **詳細ワークスペース** - 6つの専門ワークスペースで計画を深掘り
    - アイデア整理・企画構成・目標設定・関係者分析・提案作成・予算/スケジュール
  - **財務シミュレーター** - 目標月収から必要売上を自動計算
  - **モジュール化アーキテクチャ** - 197行のコアロジック + 機能別モジュール
- プロジェクト管理 (Plan/Try/Done)
- AIアウトライン生成 (モック)
- **モーダル式ワークスペース** - 各段階で専用の設計画面
- プロジェクト一覧表示
- 新規プロジェクト作成

### 👥 People
- 関係者管理
- 最終接触からの経過日数表示
- **提案カード機能** - タグと経過日数から自動提案
- ワンクリックアクション作成
- マスキング機能対応

### ✅ Actions
- カンバン方式のアクション管理 (Todo/Doing/Done)
- ステータス管理とステータス変更
- アクション詳細表示
- 新しいアクション作成

### 📝 Summary
- **リフレクション機能** - 模块化されたふりかえりシステム
- **期間別ふりかえり** - 日次/週次/月次での振り返り
- **分割モジュール構造** - データ管理、レンダリング、ユーティリティで分離
- Done → Next昇格機能
- データ保存・読み込み機能

### ⚙️ Settings
- **プロフィール編集機能** - スキル、興味、目標、連絡先管理
- **地域設定・管理機能** - 地域データ、課題管理、AI推論統合
- プライバシー保護 (匿名化表示)
- データエクスポート/インポート (JSON)
- データ初期化機能
- システム情報表示

### 🗺️ 地域管理
- **地域プロフィール管理** - 基本情報、特徴、指標
- **地域課題管理** - カテゴリ別課題整理、優先度設定
- **AI推論システム** - 地域データからの洞察生成
- **データ可視化** - 地域の現状と傾向の視覚的表示

## デモフロー

画面左下のデモガイドに従って以下のフローを体験できます：

1. **Projects** → プロジェクトウィザード → 「設計する」ボタンで各段階のワークスペース体験
2. **People** → 田中さん → 提案カード「次の打診」をクリック
3. **Actions** → 期限設定 → Done変更
4. **Summary** → Done選択 → Next昇格
5. **Settings** → プロフィール編集 → 地域設定・管理

### プロジェクトウィザードの5段階
1. **想いの整理** - アイデアや想いを整理
2. **企画構成** - フレームワークで企画を構造化
3. **目標設定** - SMART目標とKPI設定
4. **関係者分析** - ステークホルダーマッピング
5. **提案作成** - 説得力のある提案書作成

## 使用方法

### 起動方法
```bash
# ローカルサーバーで起動（推奨）
python -m http.server 8000
# または
npx serve .

# ブラウザで開く
open http://localhost:8000
```

### 主要機能の使い方

#### 企画室（Plan Editor）
- Projects画面で「企画室」ボタンをクリック
- **モード選択**
  - **ライトモード**: 簡単な質問に答えるだけでAIが事業計画の下書きを生成
  - **詳細ワークスペース**: 6つの専門ワークスペースで計画を深掘り
- **財務シミュレーター**: 目標月収を入力すると必要な売上・利用者数を自動計算
- **ワークスペース**
  - アイデア整理 - 想い・課題・対象・効果を整理
  - 企画構成 - 5W1Hで企画を構造化
  - 目標設定 - SMART目標とKPI設定
  - 関係者分析 - ステークホルダーマッピング
  - 提案作成 - 説得力のある提案書作成
  - 予算・スケジュール - 収支計画とタイムライン

#### プロジェクトウィザード
- Projects画面で「設計する」ボタンをクリック
- 5段階のワークスペースでプロジェクトを段階的に設計
- 各段階で専用のツールとテンプレートを使用
- 進捗状況が視覚的に表示される

#### プロフィール・地域管理
- Settings → プロフィール編集で個人情報を管理
- Settings → 地域設定で地域データと課題を管理
- AI推論機能で地域の洞察を自動生成

#### 提案カード
- Peopleページで各人物カードの「提案アクション」をクリック
- タグと最終接触日から自動生成される提案が表示
- ワンクリックでアクション作成

#### マスキング機能
- Settings → 匿名化表示をON
- 投資家向けデモ時に個人情報を保護

## ファイル構造

### コアシステム
- `main.js` - コアアプリケーションロジック（ルーティング、状態管理、初期化）274行
- `core.js` - 共通データ管理とユーティリティ関数
- `ui-components.js` - 共通UIコンポーネント

### Dashboard
- `dashboard.js` - ダッシュボード機能

### Projects - プロジェクトウィザード
- `projects.js` - プロジェクト一覧とメイン機能
- `projects-core.js` - プロジェクト管理機能
- `projects-wizard.js` - プロジェクトウィザードの制御
- `projects-modals.js` - モーダル管理
- `projects-ideation.js` - 想いの整理ワークスペース
- `projects-planning.js` - 企画構成ワークスペース
- `projects-goal.js` - 目標設定ワークスペース
- `projects-stakeholder.js` - 関係者分析ワークスペース
- `projects-proposal.js` - 提案作成ワークスペース
- `projects-budget.js` - 予算管理ワークスペース
- `projects-utils.js` - ユーティリティ関数

### Projects - 企画室（Plan Editor）
- `plan-editor.js` - コアロジックとオーケストレーション（197行、81.8%削減達成）
- `plan-editor-light.js` - ライトモード（AI自動生成）289行
- `plan-editor-workspace.js` - ワークスペース選択・管理（557行）
- `plan-editor-planning.js` - 企画構成ワークスペース
- `plan-editor-goal.js` - 目標設定ワークスペース
- `plan-editor-proposal.js` - 提案作成ワークスペース
- `plan-editor-stakeholder.js` - 関係者分析ワークスペース（438行）
- `plan-editor-budget.js` - 予算・スケジュールワークスペース
- `plan-editor-simulators.js` - 財務シミュレーター群
- `plan-estimator.js` - 財務見積もりエンジン

### People・Actions・Summary
- `people.js` - 人物管理機能
- `actions.js` - アクション管理機能
- `summary.js` - サマリー機能（メイン）
- `reflection-data.js` - リフレクションデータ管理
- `reflection-utils.js` - リフレクションユーティリティ
- `reflection-renderers.js` - リフレクションレンダリング
- `reflection-actions.js` - リフレクションアクション

### Settings・その他
- `settings.js` - 設定画面
- `profile-enhanced.js` - プロフィール編集機能
- `region.js` - 地域設定・管理機能
- `region-inference.js` - AI推論システム
- `issues.js` - 地域課題管理
- `map.js` / `map-page.js` - 地図機能
- `workspace-layouts.js` - ワークスペースレイアウト

## レスポンシブ対応

- **モバイル**: 375px〜 (ハンバーガーメニュー、アクション追加ボタン)
- **タブレット**: 768px〜
- **デスクトップ**: 1280px〜

## アクセシビリティ

- セマンティックHTML
- キーボード操作サポート
- フォーカストラップ付きモーダル
- WCAG AA相当のコントラスト比
- スクリーンリーダー対応

## 印刷対応

- Summary画面から印刷用表示
- A4 1ページに最適化
- 不要要素の非表示
- 印刷専用スタイル

## データ構造

### People
```javascript
{
  id: 1,
  name: "田中 健一",
  role: "住民",
  tags: ["#移住相談", "#空き家"],
  lastContact: "2025-10-28",
  // ...
}
```

### Projects
```javascript
{
  id: 1,
  title: "移住促進プログラムv2",
  purpose: "UI/UXを改善し、移住相談から定住までの期間を短縮する",
  status: "Try", // Plan/Try/Done
  kpi: "Time-to-first-entry -60%",
  created: "2025-10-15",
  updated: "2025-11-01"
  // ...
}
```

### Actions
```javascript
{
  id: 1,
  content: "田中さんに移住相談の件で電話",
  type: "連絡", // 連絡/調整/準備/記録
  status: "Done", // Todo/Doing/Done
  weeklyTarget: true,
  // ...
}
```

## カスタマイズ

### デザインシステム
- `assets/main.css` - shadcn/ui風のカスタムスタイル
- Tailwind設定でカラーパレット調整可能

### データ初期化
- Settings → データ初期化
- または `localStorage.clear()` + リロード

### 新機能追加
1. `sampleData` に新しいデータ構造を追加
2. 対応する render 関数を作成
3. ルーティングに追加
4. 必要に応じてCSSとJavaScriptモジュールを分離

### モジュール構造
- 機能別にJavaScriptファイルを分割
- `window`オブジェクトで関数を公開して連携
- HTMLでのスクリプト読み込み順序に注意

## 最近の更新

### v2.3.0 (2025年11月5日) - Plan Editorモジュール化完了
- ✅ **plan-editor.jsの大幅リファクタリング** - 1083行→197行（886行削減、81.8%削減達成）
- ✅ **企画室（Plan Editor）システムの構築**
  - ライトモード: AI支援による簡単な事業計画作成
  - 詳細ワークスペース: 6つの専門ワークスペースで深掘り
  - 財務シミュレーター: 目標月収逆算機能
- ✅ **モジュール化アーキテクチャの確立**
  - plan-editor.js (197行) - コアロジックのみ
  - plan-editor-light.js (289行) - ライトモードUI
  - plan-editor-workspace.js (557行) - ワークスペース管理
  - 6つのワークスペース専用モジュール
- ✅ **段階的リファクタリング実施**
  - 第1段階: 重複関数削除（250行削減）
  - 第2段階: ワークスペース分離（636行削減）
- ✅ **QDE関連コードの完全削除** - 未使用機能の整理
- ✅ **クロスモジュール状態管理の実装** - getter/setter + window API

### v2.2.0 (2025年11月)
- ✅ main.jsの大幅なリファクタリング（3636行→274行、92.5%削減）
- ✅ 機能別モジュールへの分散とコード重複の排除
- ✅ コアアプリケーションロジックの分離と最適化
- ✅ プロジェクトウィザード機能の実装
- ✅ プロフィール編集機能の追加
- ✅ 地域設定・管理システムの構築
- ✅ リフレクション機能のモジュール化
- ✅ ファイル構造の整理とクリーンアップ
- ✅ スクリプト読み込み順序の最適化

### v2.1.0 (2025年11月)
- プロジェクトウィザード機能の実装
- プロフィール編集機能の追加
- 地域設定・管理システムの構築
- リフレクション機能のモジュール化
- ファイル構造の整理とクリーンアップ
- スクリプト読み込み順序の最適化

### 技術的改善
- **大規模リファクタリング達成**
  - main.js: 3636行→274行（92.5%削減）
  - plan-editor.js: 1083行→197行（81.8%削減）
  - 合計4719行→471行（90.0%削減）
- **モジュール化アーキテクチャ** - 機能別に独立したJSファイルに分離
- **IIFE + window API パターン** - グローバル汚染を避けつつインライン互換性を維持
- **getter/setterパターン** - クリーンなクロスモジュール状態管理
- **コード重複の完全排除** - DRY原則の徹底
- **段階的リファクタリング手法** - 安全で検証可能な変更プロセス
- **UI/挙動の完全保持** - ゼロ変更ポリシーの達成
- **エラーハンドリングの強化** - デバッグ性の向上
- **モーダルベースのワークスペース設計** - UX向上とモジュール性の改善

## ライセンス

このプロジェクトはデモンストレーション目的で作成されており、MITライセンスの下で公開されています。

## 作成者

UIエンジニアによる地域活性化SaaSのプロトタイプ実装

---

**LocalSuccess** - 地域の小さな行動を、大きな変化に。